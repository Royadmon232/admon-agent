[RAG] Loading templates from: /Users/royadmon1/Documents/insurance_whatsapBot/marketing_templates.json
[RAG] Successfully loaded marketing templates
âœ… PromptTemplate loaded correctly
âœ… Loaded 524 knowledge base entries
Testing restored message handling functionality...

=== Test 1: Single Question (New Topic) ===
[handleMessage] New message: { phone: '+1234567890', msg: '××” ×›×•×œ×œ ×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™?' }
[IntentDetect] Lead generation detected: ××” ×›×•×œ×œ ×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™?
[handleMessage] Detected intent: lead_gen
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[twilioService] âœ… delivery_log table ready
âœ… TwilioService connected to DB with SSL
[memoryService] âœ… Updated customer info for +1234567890: { stage: 'engaged' }
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
âœ… LangChain DB connection established using external DATABASE_URL with SSL
âœ… Vector store table structure verified
[memoryService] âœ… customers and convo_memory tables ready
[splitQuestions] Found 1 questions (JSON format)
[handleMessage] Split into questions: 1
[handleMessage] Processing question: "××” ×›×•×œ×œ ×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™?"
[handleMessage] Question related to history: false
[Context built]: 
âœ… LangChain DB connection established using external DATABASE_URL with SSL (verification disabled)
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [ { q: 'N/A', score: '0.68', chunk: 'undefined/undefined' } ]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "××” ×›×•×œ×œ ×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ××” ×›×•×œ×œ ×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×× ×™ ××‘×™×Ÿ ×©××ª/×” ××ª×¢× ×™×™×Ÿ/×ª ×‘×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™ ×•×× ×™ ×›××Ÿ ×›×“×™ ×œ×¢×–×•×¨ ×œ×š ×œ×”×‘×™×Ÿ ××ª ×”× ×•×©× ×‘×¦×•×¨×” ×”×˜×•×‘×” ×‘×™×•×ª×¨.


[RAG] Final response content: exists
[memoryService] âœ… Appended exchange for +1234567890
Response: {
  response: '×× ×™ ××‘×™×Ÿ ×©××ª/×” ××ª×¢× ×™×™×Ÿ/×ª ×‘×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™ ×•×× ×™ ×›××Ÿ ×›×“×™ ×œ×¢×–×•×¨ ×œ×š ×œ×”×‘×™×Ÿ ××ª ×”× ×•×©× ×‘×¦×•×¨×” ×”×˜×•×‘×” ×‘×™×•×ª×¨.\n' +
    '\n' +
    '×‘×™×˜×•×— ×“×™×¨×” ×‘×¡×™×¡×™ ×›×•×œ×œ ×‘×“×¨×š ×›×œ×œ ×›×™×¡×•×™ ×œ× ×–×§×™× ×©× ×’×¨××™× ×œ××‘× ×” ×”×“×™×¨×” ×›×ª×•×¦××” ×××™×¨×•×¢×™× ×›××• ×©×¨×™×¤×”, ×”×¦×¤×”, ×¨×¢×™×“×ª ××“××”, ×¤×¨×™×¦×” ×•× ×–×§×™× ×˜×‘×¢×™×™× × ×•×¡×¤×™×. ×‘× ×•×¡×£, ×”×‘×™×˜×•×— ×™×›×•×œ ×œ×›×œ×•×œ ×›×™×¡×•×™ ×œ×ª×›×•×œ×ª ×”×“×™×¨×”, ×›×œ×•××¨ ×œ×¨×›×•×© ×”××™×©×™ ×©×œ×š ×›××• ×¨×”×™×˜×™×, ××›×©×™×¨×™ ×—×©××œ, ×ª×›×©×™×˜×™× ×•×¢×•×“. ×—×©×•×‘ ×œ×“×¢×ª ×›×™ ×‘×™×˜×•×— ×‘×¡×™×¡×™ ×œ×¨×•×‘ ×œ× ×›×•×œ×œ ×”×¨×—×‘×•×ª ××™×•×—×“×•×ª ×›××• ×›×™×¡×•×™ ×œ× ×–×§×™ ×¦× ×¨×ª, ×—×‘×•×ª ××¢×‘×™×“×™× ××• ×›×™×¡×•×™×™× × ×¨×—×‘×™× ×™×•×ª×¨ ×›××• "×›×œ ×”×¡×™×›×•× ×™×".\n' +
    '\n' +
    '×× ××ª/×” ××—×¤×©/×ª ×©×§×˜ × ×¤×©×™ × ×•×¡×£, ×™×™×ª×›×Ÿ ×©×›×“××™ ×œ×©×§×•×œ ×—×‘×™×œ×ª ×‘×™×˜×•×— ××•×¨×—×‘×ª ×©××¢× ×™×§×” ×›×™×¡×•×™×™× × ×•×¡×¤×™× ×•××§×™×¤×” ×™×•×ª×¨. ×”×”×¤×¨×© ×‘××—×™×¨ ×‘×™×Ÿ ×”×‘×™×˜×•×— ×”×‘×¡×™×¡×™ ×œ××•×¨×—×‘ ×œ× ×ª××™×“ ×’×“×•×œ, ×•×‘××§×¨×” ×”×¦×•×¨×š, ×”×›×™×¡×•×™ ×”× ×•×¡×£ ×™×›×•×œ ×œ×”×™×•×ª ×©×•×•×” ×›×œ ×©×§×œ.\n' +
    '\n' +
    '×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×©××ª/×” ××¢×•× ×™×™×Ÿ/×ª ×‘×¢×–×¨×” ×‘×‘×—×™×¨×ª ×”×‘×™×˜×•×— ×”××ª××™× ×¢×‘×•×¨×š, ×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š ×‘×›×œ ×©×œ×‘.\n' +
    '\n' +
    '××©××— ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ×©××œ×” ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ××™×š ××•×›×œ ×œ×¡×™×™×¢?',
  intent: 'lead_gen'
}


=== Test 2: Follow-up Question ===
[handleMessage] New message: { phone: '+1234567890', msg: '×•××” ×œ×’×‘×™ × ×–×§×™ ××™×?' }
[IntentDetect] Follow-up detected: ×•××” ×œ×’×‘×™ × ×–×§×™ ××™×?
[handleMessage] Detected intent: follow_up
[memoryService] âœ… Updated customer info for +1234567890: { stage: 'engaged' }
[splitQuestions] Found 1 questions (JSON format)
[handleMessage] Split into questions: 1
[handleMessage] Processing question: "×•××” ×œ×’×‘×™ × ×–×§×™ ××™×?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [
  {
    q: '××¤×©×¨ ×œ×”×•×¡×™×£ ×”×¨×—×‘×” ×œ××§×¨×” × ×–×§×™ ××™× ×—×•×–×¨×™× â€¦',
    score: '0.67',
    chunk: 'undefined/undefined'
  }
]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "×•××” ×œ×’×‘×™ × ×–×§×™ ××™×?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ×•××” ×œ×’×‘×™ × ×–×§×™ ××™×?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×•×“××™, ×× ×™ ×›××Ÿ ×›×“×™ ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ××” ×©×§×©×•×¨ ×œ× ×–×§×™ ××™× ×‘×“×™×¨×” ×©×œ×š. × ×–×§×™ ××™× ×”× ××—×“ ××”× ×–×§×™× ×”× ×¤×•×¦×™× ×‘×™×•×ª×¨
[RAG] Final response content: exists
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567890
Response: {
  response: '×•×“××™, ×× ×™ ×›××Ÿ ×›×“×™ ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ××” ×©×§×©×•×¨ ×œ× ×–×§×™ ××™× ×‘×“×™×¨×” ×©×œ×š. × ×–×§×™ ××™× ×”× ××—×“ ××”× ×–×§×™× ×”× ×¤×•×¦×™× ×‘×™×•×ª×¨ ×©×™×›×•×œ×™× ×œ×”×ª×¨×—×© ×‘×“×™×¨×•×ª, ×•×œ×›×Ÿ ×—×©×•×‘ ×××•×“ ×œ×”×™×•×ª ××•×›× ×™× ××¨××©. \n' +
    '\n' +
    '×‘×›×œ×œ ×‘×™×˜×•×—, ×™×© ××¤×©×¨×•×ª ×œ×”×•×¡×™×£ ×”×¨×—×‘×” ××™×•×—×“×ª ×œ×¤×•×œ×™×¡×ª ×”×‘×™×˜×•×— ×©×œ×š ×›×“×™ ×œ×›×¡×•×ª ×’× ××§×¨×™× ×©×œ ×¨×˜×™×‘×•×ª ×—×•×–×¨×ª ××• ×¦×•×¨×š ×‘×˜×™×¤×•×œ ×™×¡×•×“×™ ×‘×¦× ×¨×ª ×™×©× ×”. ×”×¨×—×‘×” ×–×• ×™×›×•×œ×” ×œ×”×¢× ×™×§ ×œ×š ×©×§×˜ × ×¤×©×™ ×•×œ×”×‘×˜×™×— ×©×˜×™×¤×•×œ ×‘× ×–×§×™ ××™× ×œ× ×™×”×•×•×” ×¢×‘×•×¨×š ×‘×¢×™×” ×›×¡×¤×™×ª.\n' +
    '\n' +
    '×× ×™×© ×œ×š ×¦× ×¨×ª ×™×©× ×” ××• ×× ×—×•×•×™×ª ×‘×¢×‘×¨ × ×–×§×™ ××™×, ×× ×™ ×××œ×™×¥ ×‘×—×•× ×œ×©×§×•×œ ××ª ×”×”×¨×—×‘×” ×”×–×•. ×›×š ×ª×•×›×œ ×œ×”×‘×˜×™×— ×©×”×“×™×¨×” ×©×œ×š ××•×’× ×ª ×‘×¦×•×¨×” ×”××§×¡×™××œ×™×ª, ×’× ×‘××§×¨×™× ×©×œ ×‘×¢×™×•×ª ×—×•×–×¨×•×ª.\n' +
    '\n' +
    '×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×× ××ª/×” ××¢×•× ×™×™× /×ª ×‘×¢×–×¨×” ×‘×”×ª×××ª ×”×¤×•×œ×™×¡×” ×”××“×•×™×§×ª ×œ×¦×¨×›×™× ×©×œ×š, ×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š!\n' +
    '\n' +
    '×‘×˜×—, ×‘×•× × ××©×™×š ×××™×¤×” ×©×”×¤×¡×§× ×• ğŸ˜Š',
  intent: 'follow_up'
}


=== Test 3: Multiple Questions ===
[handleMessage] New message: {
  phone: '+1234567890',
  msg: '×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×”? ×•××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?'
}
[IntentDetect] Lead generation detected: ×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×”? ×•××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?
[handleMessage] Detected intent: lead_gen
[memoryService] âœ… Updated customer info for +1234567890: { stage: 'engaged' }
[splitQuestions] Found 2 questions (JSON format)
[handleMessage] Split into questions: 2
[handleMessage] Processing question: "×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×”?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [ { q: 'N/A', score: '0.82', chunk: 'undefined/undefined' } ]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×”?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×”?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×× ×™ ××‘×™×Ÿ ×©××ª/×” ××¢×•× ×™×™× /×ª ×œ×“×¢×ª ×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×” ×œ×—×•×“×©. ×”××—×™×¨×™× ××ª×—×™×œ×™× ××›-40 ×©"×— ×œ×—×•×“×© ×‘×œ×‘×“, ××š ×™×©
[RAG] Final response content: exists
[handleMessage] Processing question: "××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [
  {
    q: '××” ×”×”×‘×“×œ ×”×¢×™×§×¨×™ ×‘××—×™×¨ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×‘×œ×‘â€¦',
    score: '0.80',
    chunk: 'undefined/undefined'
  }
]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×›××•×‘×Ÿ! ×”×”×‘×“×œ ×”×¢×™×§×¨×™ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×‘×™×˜×•×— ×ª×›×•×œ×” ×˜××•×Ÿ ×‘××” ×©×›×œ ××—×“ ××”× ××›×¡×”. ×‘×™×˜×•×— ××‘× ×” ××ª××§×“ ×‘×§×™×¨×•×ª ×”
[RAG] Final response content: exists
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567890
Response: {
  response: '1. ×× ×™ ××‘×™×Ÿ ×©××ª/×” ××¢×•× ×™×™× /×ª ×œ×“×¢×ª ×›××” ×¢×•×œ×” ×‘×™×˜×•×— ×“×™×¨×” ×œ×—×•×“×©. ×”××—×™×¨×™× ××ª×—×™×œ×™× ××›-40 ×©"×— ×œ×—×•×“×© ×‘×œ×‘×“, ××š ×™×© ×œ×§×—×ª ×‘×—×©×‘×•×Ÿ ×©×”× ×¢×©×•×™×™× ×œ×”×©×ª× ×•×ª ×‘×”×ª×× ×œ×¢×¨×š ×”×“×™×¨×” ×©×œ×š ×•×”×ª×›×•×œ×” ×©×‘×”. ××“×•×‘×¨ ×‘×¡×›×•× ×§×˜×Ÿ ×™×—×¡×™×ª ×©×™×›×•×œ ×œ×”×¢× ×™×§ ×œ×š ×©×§×˜ × ×¤×©×™ ×•×”×’× ×” ××§×™×¤×” ×¢×œ ×”× ×›×¡ ×”×™×§×¨ ×©×œ×š. ×‘× ×•×¡×£, ×¢× ×‘×™×˜×•×— ×“×™×¨×” ×ª×§×‘×œ/×™ ×©×™×¨×•×ª ××™×©×™ ×•××¢× ×” ××”×™×¨ ×‘×›×œ ×‘×¢×™×” ×©×ª×ª×¢×•×¨×¨. ×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×× ×ª×¨×¦×™/×” ×œ×‘×“×•×§ ××¤×©×¨×•×™×•×ª × ×•×¡×¤×•×ª, ×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š.\n' +
    '\n' +
    '2. ×›××•×‘×Ÿ! ×”×”×‘×“×œ ×”×¢×™×§×¨×™ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×‘×™×˜×•×— ×ª×›×•×œ×” ×˜××•×Ÿ ×‘××” ×©×›×œ ××—×“ ××”× ××›×¡×”. ×‘×™×˜×•×— ××‘× ×” ××ª××§×“ ×‘×§×™×¨×•×ª ×”×‘×™×ª, ×”×’×’, ×”×¨×¦×¤×” ×•×›×œ ××” ×©××—×•×‘×¨ ×‘××•×¤×Ÿ ×§×‘×•×¢ ×œ××‘× ×” ×¢×¦××•. ×–×”×• ×‘×™×˜×•×— ×©××™×•×¢×“ ×œ×”×’×Ÿ ×¢×œ ×”××‘× ×” ×”×¤×™×–×™ ×©×œ ×”×“×™×¨×” ×©×œ×š ××¤× ×™ × ×–×§×™× ×›××• ×©×¨×™×¤×•×ª, ×”×¦×¤×•×ª ××• ×¨×¢×™×“×•×ª ××“××”.\n' +
    '\n' +
    '×œ×¢×•××ª ×–××ª, ×‘×™×˜×•×— ×ª×›×•×œ×” ××ª×™×™×—×¡ ×œ×›×œ ××” ×©× ××¦× ×‘×ª×•×š ×”×‘×™×ª ×©×œ×š, ×›×•×œ×œ ×¨×™×”×•×˜, ××›×©×™×¨×™ ×—×©××œ, ×‘×™×’×•×“, ×ª×›×©×™×˜×™× ×•×—×¤×¦×™× ××™×©×™×™× ××—×¨×™×. ×–×”×• ×‘×™×˜×•×— ×©××‘×˜×™×— ×©×™×© ×œ×š ×›×™×¡×•×™ ×œ× ×–×§ ××• ×’× ×™×‘×” ×©×œ ×”×—×¤×¦×™× ×”××™×©×™×™× ×©×œ×š.\n' +
    '\n' +
    '×‘×™×˜×•×— ××‘× ×” ×‘×œ×‘×“ × ×—×©×‘ ×‘×“×¨×š ×›×œ×œ ×œ×–×•×œ ×™×•×ª×¨, ××›×™×•×•×Ÿ ×©×”×•× ××ª××§×“ ×¨×§ ×‘××‘× ×” ×”×¤×™×–×™. ×›××©×¨ ××ª/×” ××•×¡×™×£/×” ×’× ×‘×™×˜×•×— ×ª×›×•×œ×”, ×”××—×™×¨ ×¢×©×•×™ ×œ×¢×œ×•×ª, ××›×™×•×•×Ÿ ×©×–×” ××›×¡×” ××ª ×›×œ ×”×—×¤×¦×™× ×”××™×©×™×™× ×©×œ×š, ×•×”×¢×œ×•×ª ×ª×œ×•×™×” ×‘×©×•×•×™ ×”×ª×›×•×œ×” ×©×ª×¦×”×™×¨/×™.\n' +
    '\n' +
    '×× ×™ ×›××Ÿ ×›×“×™ ×œ×¢×–×•×¨ ×œ×š ×œ×‘×—×•×¨ ××ª ×”×‘×™×˜×•×— ×”× ×›×•×Ÿ ×œ×¦×¨×›×™× ×©×œ×š, ×•×× ×™×© ×©××œ×•×ª × ×•×¡×¤×•×ª, ×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š!\n' +
    '\n' +
    '××©××— ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ×©××œ×” ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ××™×š ××•×›×œ ×œ×¡×™×™×¢?',
  intent: 'lead_gen'
}


=== Test 4: Unrelated Question (New Topic) ===
[handleMessage] New message: { phone: '+1234567891', msg: '××™×š ××—×©×‘×™× ××ª ×’×•×‘×” ×”×¤×¨××™×”?' }
[IntentDetect] Default intent for: ××™×š ××—×©×‘×™× ××ª ×’×•×‘×” ×”×¤×¨××™×”?
[handleMessage] Detected intent: default
[memoryService] âœ… Updated customer info for +1234567891: { stage: 'engaged' }
[splitQuestions] Found 1 questions (JSON format)
[handleMessage] Split into questions: 1
[handleMessage] Processing question: "××™×š ××—×©×‘×™× ××ª ×’×•×‘×” ×”×¤×¨××™×”?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 0
[RAG] Top matches: []
[handleMessage] No matches from RAG vector search
[handleMessage] Using GPT-4o for general response
[smartAnswer] Starting analysis for: "You are a friendly insurance agent named Dony. The user sent this message: "××™×š ××—×©×‘×™× ××ª ×’×•×‘×” ×”×¤×¨××™×”?"
        Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
        If it's a question about insurance, explain that you're here to help with insurance-related questions.
        Keep the response concise and engaging."
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: none
[RAG] Normalized question: You are a friendly insurance agent named Dony. The user sent this message: "××™×š ××—×©×‘×™× ××ª ×’×•×‘×” ×”×¤×¨××™×”?"
        Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
        If it's a question about insurance, explain that you're here to help with insurance-related questions.
        Keep the response concise and engaging.
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] No context or relevant QAs - using GPT-4o for independent response
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567891
Response: {
  response: '×©×œ×•×! ×× ×™ ×›××Ÿ ×›×“×™ ×œ×¢×–×•×¨ ×œ×š ×‘×›×œ ××” ×©×§×©×•×¨ ×œ×‘×™×˜×•×— ×“×™×¨×”. \n' +
    '\n' +
    '×›×©××“×•×‘×¨ ×‘×—×™×©×•×‘ ×’×•×‘×” ×”×¤×¨××™×” ×œ×‘×™×˜×•×— ×“×™×¨×”, ×™×© ×›××” ×’×•×¨××™× ××¨×›×–×™×™× ×©××©×¤×™×¢×™× ×¢×œ ×”××—×™×¨. ×”× ×” ×›××” ××”×: \n' +
    '\n' +
    '1. **×¡×•×’ ×”× ×›×¡**: ×”×× ××“×•×‘×¨ ×‘×‘×™×ª ×¤×¨×˜×™, ×“×™×¨×” ×‘×‘× ×™×™×Ÿ ×¨×‘ ×§×•××•×ª, ××• ××•×œ×™ ×“×™×¨×ª ×’×Ÿ? ×œ×›×œ ×¡×•×’ × ×›×¡ ×™×© ×¤×¨××™×” ×©×•× ×”.\n' +
    '\n' +
    '2. **××™×§×•× ×”× ×›×¡**: ××–×•×¨ ×’×™××•×’×¨×¤×™ ×™×›×•×œ ×œ×”×©×¤×™×¢ ×¢×œ ×”××—×™×¨, ×œ××©×œ ×× ××“×•×‘×¨ ×‘××–×•×¨ ×¢× ×¡×™×›×•×Ÿ ×’×‘×•×” ×™×•×ª×¨ ×œ×’× ×™×‘×•×ª ××• × ×–×§×™× ×˜×‘×¢×™×™×.\n' +
    '\n' +
    '3. **×’×•×“×œ ×”× ×›×¡**: ×©×˜×— ×”×“×™×¨×” ××• ×”×‘×™×ª ×•×›××•×ª ×”×—×“×¨×™× ××©×¤×™×¢×™× ×™×©×™×¨×•×ª ×¢×œ ×”××—×™×¨.\n' +
    '\n' +
    '4. **×ª×›×•×œ×”**: ×× ××ª/×” ××‘×˜×—/×ª ×’× ××ª ×”×ª×›×•×œ×”, ×”×¢×¨×š ×©×œ ×”×¨×›×•×© ×‘×ª×•×š ×”×“×™×¨×” ×™×©×¤×™×¢ ×¢×œ ×’×•×‘×” ×”×¤×¨××™×”.\n' +
    '\n' +
    '5. **×”×™×¡×˜×•×¨×™×™×ª ×ª×‘×™×¢×•×ª**: ×× ×”×™×• ×ª×‘×™×¢×•×ª ×§×•×“××•×ª, ×–×” ×™×›×•×œ ×œ×”×©×¤×™×¢ ×¢×œ ×”××—×™×¨.\n' +
    '\n' +
    '6. **×××¦×¢×™ ×‘×˜×™×—×•×ª**: ×”×ª×§× ×ª ××¢×¨×›×•×ª ××–×¢×§×”, ××¦×œ××•×ª ××• ×“×œ×ª×•×ª ×‘×˜×™×—×•×ª ×™×›×•×œ×™× ×œ×”×¤×—×™×ª ××ª ×”×¤×¨××™×”.\n' +
    '\n' +
    '×× ×™ ×›××Ÿ ×œ×¢×–×•×¨ ×œ×š ×œ×”×‘×™×Ÿ ××ª ×”××¤×©×¨×•×™×•×ª ×©×œ×š ×•×œ×”×ª××™× ××ª ×”×‘×™×˜×•×— ×œ×¦×¨×›×™× ×”××™×©×™×™× ×©×œ×š. ×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×©××ª/×” ××¢×•× ×™×™×Ÿ/×ª ×‘×”×¦×¢×ª ××—×™×¨, ×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š!\n' +
    '\n' +
    '××©××— ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ×©××œ×” ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ××™×š ××•×›×œ ×œ×¡×™×™×¢?',
  intent: 'default'
}



=== Test 5: Greeting and Non-Question Messages ===
[handleMessage] New message: { phone: '+1234567892', msg: '×©×œ×•×' }
[IntentDetect] Greeting detected: ×©×œ×•×
[handleMessage] Detected intent: greeting
[memoryService] âœ… Updated customer info for +1234567892: { stage: 'engaged' }
[splitQuestions] Found 0 questions (JSON format)
[handleMessage] Split into questions: 0
[handleMessage] No questions found, using GPT-4o for general response
[smartAnswer] Starting analysis for: "You are a friendly insurance agent named Dony. The user sent this message: "×©×œ×•×"
      Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
      If it's a question about insurance, explain that you're here to help with insurance-related questions.
      Keep the response concise and engaging."
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: none
[RAG] Normalized question: You are a friendly insurance agent named Dony. The user sent this message: "×©×œ×•×"
      Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
      If it's a question about insurance, explain that you're here to help with insurance-related questions.
      Keep the response concise and engaging.
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Detected small-talk / out-of-domain question â€“ using GPT-4o friendly fallback
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567892
[handleMessage] New message: { phone: '+1234567892', msg: '××” ×©×œ×•××š?' }
[IntentDetect] Small talk detected: ××” ×©×œ×•××š?
[handleMessage] Detected intent: small_talk
[memoryService] âœ… Updated customer info for +1234567892: { stage: 'engaged' }
[splitQuestions] Found 1 questions (JSON format)
[handleMessage] Split into questions: 1
[handleMessage] Processing question: "××” ×©×œ×•××š?"
[handleMessage] Question related to history: false
[Context built]: 
âœ… LangChain DB connection established using external DATABASE_URL with SSL (verification disabled)
[RAG] Retrieved 1 results, filtered to 0
[RAG] Top matches: []
[handleMessage] No matches from RAG vector search
[handleMessage] Using GPT-4o for general response
[smartAnswer] Starting analysis for: "You are a friendly insurance agent named Dony. The user sent this message: "××” ×©×œ×•××š?"
        Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
        If it's a question about insurance, explain that you're here to help with insurance-related questions.
        Keep the response concise and engaging."
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: none
[RAG] Normalized question: You are a friendly insurance agent named Dony. The user sent this message: "××” ×©×œ×•××š?"
        Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
        If it's a question about insurance, explain that you're here to help with insurance-related questions.
        Keep the response concise and engaging.
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Detected small-talk / out-of-domain question â€“ using GPT-4o friendly fallback
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567892
[handleMessage] New message: { phone: '+1234567892', msg: '×ª×•×“×” ×¨×‘×” ×¢×œ ×”×¢×–×¨×”' }
[IntentDetect] Thank you detected: ×ª×•×“×” ×¨×‘×” ×¢×œ ×”×¢×–×¨×”
[handleMessage] Detected intent: thank_you
[memoryService] âœ… Updated customer info for +1234567892: { stage: 'engaged' }
[splitQuestions] Found 0 questions (JSON format)
[handleMessage] Split into questions: 0
[handleMessage] No questions found, using GPT-4o for general response
[smartAnswer] Starting analysis for: "You are a friendly insurance agent named Dony. The user sent this message: "×ª×•×“×” ×¨×‘×” ×¢×œ ×”×¢×–×¨×”"
      Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
      If it's a question about insurance, explain that you're here to help with insurance-related questions.
      Keep the response concise and engaging."
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: none
[RAG] Normalized question: You are a friendly insurance agent named Dony. The user sent this message: "×ª×•×“×” ×¨×‘×” ×¢×œ ×”×¢×–×¨×”"
      Please provide a friendly, helpful response in Hebrew. If it's a greeting or small talk, respond naturally.
      If it's a question about insurance, explain that you're here to help with insurance-related questions.
      Keep the response concise and engaging.
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Detected small-talk / out-of-domain question â€“ using GPT-4o friendly fallback
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567892

=== Test 6: Specific Question - ××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”? ===
[handleMessage] New message: { phone: '+1234567893', msg: '××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?' }
[IntentDetect] Lead generation detected: ××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?
[handleMessage] Detected intent: lead_gen
[memoryService] âœ… Updated customer info for +1234567893: { stage: 'engaged' }
[splitQuestions] Found 1 questions (JSON format)
[handleMessage] Split into questions: 1
[handleMessage] Processing question: "××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?"
[handleMessage] Question related to history: false
[Context built]: 
âœ… LangChain DB connection established using external DATABASE_URL with SSL (verification disabled)
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [
  {
    q: '××” ×”×”×‘×“×œ ×”×¢×™×§×¨×™ ×‘××—×™×¨ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×‘×œ×‘â€¦',
    score: '0.80',
    chunk: 'undefined/undefined'
  }
]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×›××•×‘×Ÿ! ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×” ×˜××•×Ÿ ×‘×›×™×¡×•×™ ×©×›×œ ××—×“ ××”× ××¡×¤×§. ×‘×™×˜×•×— ××‘× ×” ××›×¡×” ××ª ×”×§×™×¨×•×ª, ×”×’×’ ×•×”××‘
[RAG] Final response content: exists
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +1234567893
Response: {
  response: '×›××•×‘×Ÿ! ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×” ×˜××•×Ÿ ×‘×›×™×¡×•×™ ×©×›×œ ××—×“ ××”× ××¡×¤×§. ×‘×™×˜×•×— ××‘× ×” ××›×¡×” ××ª ×”×§×™×¨×•×ª, ×”×’×’ ×•×”××‘× ×” ×”×¤×™×–×™ ×©×œ ×”×‘×™×ª ×¢×¦××•. ×–×” ×›×•×œ×œ × ×–×§×™× ×œ××‘× ×” ×›×ª×•×¦××” ××©×¨×™×¤×•×ª, ×¨×¢×™×“×•×ª ××“××” ××• × ×–×§×™ ××™× ×œ××¢×˜ × ×–×§×™ ×¦× ×¨×ª ×¤× ×™××™×™×.\n' +
    '\n' +
    '×œ×¢×•××ª ×–××ª, ×‘×™×˜×•×— ×ª×›×•×œ×” ××ª×™×™×—×¡ ×œ×›×œ ××” ×©× ××¦× ×‘×ª×•×š ×”×‘×™×ª â€“ ×”×¨×™×”×•×˜, ××›×©×™×¨×™ ×”×—×©××œ, ×”×‘×’×“×™×, ×›×œ×™ ×”××˜×‘×—, ×•×”×—×¤×¦×™× ×”××™×©×™×™× ×©×œ×š. ×›×œ×•××¨, ×× ×—×¡ ×•×—×œ×™×œ×” ×™×© ×¤×¨×™×¦×” ××• × ×–×§ ×©×’×•×¨× ×œ××•×‘×“×Ÿ ××• × ×–×§ ×œ×—×¤×¦×™× ××œ×•, ×‘×™×˜×•×— ×”×ª×›×•×œ×” ×”×•× ×–×” ×©×™×™×ª×Ÿ ×œ×š ××ª ×”×›×™×¡×•×™ ×”××ª××™×.\n' +
    '\n' +
    '×œ×¨×•×‘, ×‘×™×˜×•×— ×ª×›×•×œ×” ××™×™×§×¨ ××ª ×”×¤×¨××™×” ×‘×”×©×•×•××” ×œ×‘×™×˜×•×— ××‘× ×” ×‘×œ×‘×“, ××›×™×•×•×Ÿ ×©×”×•× ××›×¡×” ×¢×¨×š ×¨×‘ ×™×•×ª×¨ ×•××’×•×•×Ÿ ×¨×—×‘ ×™×•×ª×¨ ×©×œ ×¤×¨×™×˜×™×. ×”××—×™×¨ ×”××“×•×™×§ ×ª×œ×•×™ ×‘×©×•×•×™ ×”×ª×›×•×œ×” ×©×ª×¦×”×™×¨. ×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×× ××ª/×” ××¢×•× ×™×™× /×ª ×œ×‘×“×•×§ ××¤×©×¨×•×™×•×ª ×‘×™×˜×•×— ×¡×¤×¦×™×¤×™×•×ª, ×× ×™ ×›××Ÿ ×œ×¢×–×•×¨!\n' +
    '\n' +
    '××©××— ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ×©××œ×” ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ××™×š ××•×›×œ ×œ×¡×™×™×¢?',
  intent: 'lead_gen'
}

=== Test 7: Multiple Insurance Questions ===
[handleMessage] New message: {
  phone: {
    phone: '+1234567894',
    msg: '×”×™×™, ×©×œ×•×, ××” ×©×œ×•××š? ×¨×¦×™×ª×™ ×œ×“×¢×ª ××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨ ×•××” ×–×” ×‘×™×˜×•×— ×¦×“ ×’ ×‘×‘×™×˜×•×— ×“×™×¨×”? ×•××” ×–×” ×”×©×ª×ª×¤×•×ª ×¢×¦××™×ª?'
  },
  msg: undefined
}
Response: {
  "response": "××¦×˜×¢×¨/×ª, ××™×¨×¢×” ×©×’×™××” ×‘×˜×™×¤×•×œ ×‘×”×•×“×¢×” ×©×œ×š. ×× × × ×¡×”/×™ ×©×•×‘ ××• ×¤× ×”/×™ ××œ×™× ×• ×‘×“×¨×š ××—×¨×ª.",
  "intent": "error"
}

=== Custom Test: User Multi-Question ===
[handleMessage] New message: {
  phone: '+9999999999',
  msg: '××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”? ××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨ ×•×›×™×¦×“ ××©×¤×™×¢ ×”×©×ª×ª×¤×•×ª ×¢×¦××™×ª ×¢×œ ××—×™×¨ ×‘×™×˜×•×— ×”×“×™×¨×”?'
}
[IntentDetect] Lead generation detected: ××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”? ××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨ ×•×›×™×¦×“ ××©×¤×™×¢ ×”×©×ª×ª×¤×•×ª ×¢×¦××™×ª ×¢×œ ××—×™×¨ ×‘×™×˜×•×— ×”×“×™×¨×”?
[handleMessage] Detected intent: lead_gen
[memoryService] âœ… Updated customer info for +9999999999: { stage: 'engaged' }
[splitQuestions] Found 3 questions (JSON format)
[handleMessage] Split into questions: 3
[handleMessage] Processing question: "××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [
  {
    q: '××” ×”×”×‘×“×œ ×”×¢×™×§×¨×™ ×‘××—×™×¨ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×‘×œ×‘â€¦',
    score: '0.80',
    chunk: 'undefined/undefined'
  }
]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ××” ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×ª×›×•×œ×”?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×›××•×‘×Ÿ! ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×‘×™×˜×•×— ×ª×›×•×œ×” ×”×•× ×‘×¢×™×§×¨ ×‘××•×§×“ ×”×›×™×¡×•×™ ×©×›×œ ××—×“ ××”× ××¡×¤×§. ×‘×™×˜×•×— ××‘× ×” ××›×¡×” ××ª
[RAG] Final response content: exists
[handleMessage] Processing question: "××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [
  {
    q: '××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨ ×‘×‘×™×ª ×—×›× ×•××ª×™ ××•××œ×¥ ×œ×”â€¦',
    score: '0.79',
    chunk: 'undefined/undefined'
  }
]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ××” ×–×” ×›×™×¡×•×™ ×¡×™×™×‘×¨?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: ×›××•×‘×Ÿ! ×›×™×¡×•×™ ×¡×™×™×‘×¨ ×‘×‘×™×ª ×—×›× ×”×•× ×¡×•×’ ×©×œ ×‘×™×˜×•×— ×©××¢× ×™×§ ×”×’× ×” ××¤× ×™ ×¤×¨×™×¦×•×ª ×“×™×’×™×˜×œ×™×•×ª, ×¤×’×™×¢×” ×‘××™×“×¢ ××™×©×™, ×”×•
[RAG] Final response content: exists
[handleMessage] Processing question: "×›×™×¦×“ ××©×¤×™×¢ ×”×©×ª×ª×¤×•×ª ×¢×¦××™×ª ×¢×œ ××—×™×¨ ×‘×™×˜×•×— ×”×“×™×¨×”?"
[handleMessage] Question related to history: false
[Context built]: 
[RAG] Retrieved 1 results, filtered to 1
[RAG] Top matches: [ { q: 'N/A', score: '0.80', chunk: 'undefined/undefined' } ]
[handleMessage] Found 1 relevant QAs from vector search
[smartAnswer] Starting analysis for: "×›×™×¦×“ ××©×¤×™×¢ ×”×©×ª×ª×¤×•×ª ×¢×¦××™×ª ×¢×œ ××—×™×¨ ×‘×™×˜×•×— ×”×“×™×¨×”?"
[smartAnswer] Context has 0 previous exchanges
[smartAnswer] Relevant QAs provided: 1
[RAG] Normalized question: ×›×™×¦×“ ××©×¤×™×¢ ×”×©×ª×ª×¤×•×ª ×¢×¦××™×ª ×¢×œ ××—×™×¨ ×‘×™×˜×•×— ×”×“×™×¨×”?
[RAG] Using column: embedding
[RAG] Context length: 0
[RAG] Using provided relevant QAs from vector search
[RAG] Invoking LLM with messages: 2
[RAG] LLM response received: yes
[RAG] Response content: × ×¨××” ×©×œ× ×§×™×‘×œ×ª×™ ×©××œ×” ×××š ×¢×“×™×™×Ÿ. ×× ×™ ×›××Ÿ ×›×“×™ ×œ×¡×™×™×¢ ×œ×š ×‘×›×œ ×©××œ×” ×©×™×© ×œ×š ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ×× ×™×© ×œ×š ×©××œ×” 
[RAG] Final response content: exists
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
âœ… PostgreSQL connected successfully for memoryService using external DATABASE_URL with SSL (verification disabled).
[memoryService] âœ… Appended exchange for +9999999999
Response: {
  "response": "1. ×›××•×‘×Ÿ! ×”×”×‘×“×œ ×‘×™×Ÿ ×‘×™×˜×•×— ××‘× ×” ×œ×‘×™×˜×•×— ×ª×›×•×œ×” ×”×•× ×‘×¢×™×§×¨ ×‘××•×§×“ ×”×›×™×¡×•×™ ×©×›×œ ××—×“ ××”× ××¡×¤×§. ×‘×™×˜×•×— ××‘× ×” ××›×¡×” ××ª ×”×—×œ×§ ×”×¤×™×–×™ ×©×œ ×”×“×™×¨×”, ×›×œ×•××¨ ××ª ×”×§×™×¨×•×ª, ×”×’×’, ×”×¨×¦×¤×” ×•×›×œ ××” ×©×”×•× ×—×œ×§ ××”××‘× ×” ×”×§×‘×•×¢ ×©×œ ×”×‘×™×ª. ×–×” ×›×•×œ×œ ×’× ××¢×¨×›×•×ª ×§×‘×•×¢×•×ª ×›××• ×¦× ×¨×ª, ×—×©××œ ×•××¢×¨×›×•×ª ×—×™××•×/×§×™×¨×•×¨.\n\n×œ×¢×•××ª ×–××ª, ×‘×™×˜×•×— ×ª×›×•×œ×” ××ª××§×“ ×‘×—×¤×¦×™× ×”××™×©×™×™× ×•×”×¨×™×”×•×˜ ×©×‘×“×™×¨×”. ×”×•× ×›×•×œ×œ ×›×™×¡×•×™ ×œ××›×©×™×¨×™ ×—×©××œ, ×¨×”×™×˜×™×, ×‘×’×“×™×, ×ª×›×©×™×˜×™× ×•×›×œ ×—×¤×¥ ××™×©×™ ××—×¨ ×©× ××¦× ×‘×ª×•×š ×”×“×™×¨×”.\n\n×”×”×‘×“×œ ×‘××—×™×¨ ×‘×™×Ÿ ×©× ×™ ×¡×•×’×™ ×”×‘×™×˜×•×—×™× × ×•×‘×¢ ××›×š ×©×‘×™×˜×•×— ×”×ª×›×•×œ×” ×ª×œ×•×™ ×‘×¢×¨×š ×©×œ ×”×—×¤×¦×™× ×”××™×©×™×™× ×©×ª×¦×”×™×¨ ×¢×œ×™×”×. ×‘×“×¨×š ×›×œ×œ, ×‘×™×˜×•×— ××‘× ×” ×‘×œ×‘×“ ×™×”×™×” ×‘×¢×œ ×¤×¨××™×” × ××•×›×” ×™×•×ª×¨, ×›×™×•×•×Ÿ ×©×”×•× ××›×¡×” ×¨×§ ××ª ×”××‘× ×” ×¢×¦××•. ×›××©×¨ ××•×¡×™×¤×™× ×‘×™×˜×•×— ×ª×›×•×œ×”, ×”××—×™×¨ ×¢×•×œ×” ×‘×”×ª×× ×œ×©×•×•×™ ×”×ª×›×•×œ×” ×©×”×•×¦×”×¨×”. \n\n×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×©××ª/×” ××ª×œ×‘×˜/×ª ×œ×’×‘×™ ××™×–×” ×¡×•×’ ×‘×™×˜×•×— ××ª××™× ×œ×¦×¨×›×™× ×©×œ×š, ×× ×™ ×›××Ÿ ×œ×¢×–×•×¨!\n\n2. ×›××•×‘×Ÿ! ×›×™×¡×•×™ ×¡×™×™×‘×¨ ×‘×‘×™×ª ×—×›× ×”×•× ×¡×•×’ ×©×œ ×‘×™×˜×•×— ×©××¢× ×™×§ ×”×’× ×” ××¤× ×™ ×¤×¨×™×¦×•×ª ×“×™×’×™×˜×œ×™×•×ª, ×¤×’×™×¢×” ×‘××™×“×¢ ××™×©×™, ×”×•× ××•×ª ×•×”×ª×§×¤×•×ª ×¢×œ ××¢×¨×›×•×ª ××•×˜×•××˜×™×•×ª ×›××• ××¦×œ××•×ª ××‘×˜×—×”, ××–×¢×§×•×ª ×•××¢×¨×›×•×ª ××™×–×•×’ ××•×•×™×¨ ×—×›××•×ª. ×”×›×™×¡×•×™ ×”×–×” × ×•×¢×“ ×œ×”×‘×˜×™×— ×©×”×‘×™×ª ×”×—×›× ×©×œ×š ×™×”×™×” ××•×’×Ÿ ××¤× ×™ ××™×•××™× ×“×™×’×™×˜×œ×™×™× ×©×™×›×•×œ×™× ×œ×’×¨×•× ×œ× ×–×§×™× ×›×œ×›×œ×™×™× ××• ×œ×¤×’×•×¢ ×‘×¤×¨×˜×™×•×ª ×©×œ×š.\n\n×× ×™ ×××œ×™×¥ ×œ×©×§×•×œ ×œ×”×•×¡×™×£ ××ª ×”×›×™×¡×•×™ ×”×–×” ×‘××™×•×—×“ ×× ×™×© ×œ×š ×‘×‘×™×ª ××¢×¨×›×•×ª ×—×›××•×ª ×•××ª×§×“××•×ª. ××¢×¨×›×•×ª ×›××œ×• ×™×›×•×œ×•×ª ×œ×”×™×•×ª ×—×©×•×¤×•×ª ×œ××™×•××™× ××¦×“ ×’×•×¨××™× ×–×“×•× ×™×™×, ×•×›×™×¡×•×™ ×¡×™×™×‘×¨ ×™×›×•×œ ×œ×¡×¤×§ ×œ×š ××ª ×”×©×§×˜ ×”× ×¤×©×™ ×©×”×‘×™×ª ×©×œ×š ××•×’×Ÿ ×’× ××”×‘×—×™× ×” ×”×“×™×’×™×˜×œ×™×ª. ×× ×™×© ×œ×š ×©××œ×•×ª × ×•×¡×¤×•×ª ××• ×©××ª/×” ××ª×œ×‘×˜/×ª ×× ×–×” ××ª××™× ×œ×¦×¨×›×™× ×©×œ×š, ×× ×™ ×›××Ÿ ×œ×¢×–×•×¨ ×‘×›×œ ××” ×©×ª×¦×˜×¨×š/×™.\n\n3. × ×¨××” ×©×œ× ×§×™×‘×œ×ª×™ ×©××œ×” ×××š ×¢×“×™×™×Ÿ. ×× ×™ ×›××Ÿ ×›×“×™ ×œ×¡×™×™×¢ ×œ×š ×‘×›×œ ×©××œ×” ×©×™×© ×œ×š ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ×× ×™×© ×œ×š ×©××œ×” ××¡×•×™××ª ××• × ×•×©× ×©××ª/×” ×¨×•×¦×” ×œ×“×¢×ª ×¢×œ×™×• ×™×•×ª×¨, ×× × ×©×ª×£/×™ ××•×ª×™ ×•××©××— ×œ×¢×–×•×¨!\n\n××©××— ×œ×¢×–×•×¨ ×œ×š ×¢× ×›×œ ×©××œ×” ×œ×’×‘×™ ×‘×™×˜×•×— ×“×™×¨×”. ××™×š ××•×›×œ ×œ×¡×™×™×¢?",
  "intent": "lead_gen"
}
